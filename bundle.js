(()=>{"use strict";var e={891:function(e,t,n){var o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,i){function d(e){try{c(o.next(e))}catch(e){i(e)}}function r(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(d,r)}c((o=o.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,o,a,i,d={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function r(r){return function(c){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,r[0]&&(d=0)),d;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return d.label++,{value:r[1],done:!1};case 5:d.label++,o=r[1],r=[0];continue;case 7:r=d.ops.pop(),d.trys.pop();continue;default:if(!((a=(a=d.trys).length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){d=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){d.label=r[1];break}if(6===r[0]&&d.label<a[1]){d.label=a[1],a=r;break}if(a&&d.label<a[2]){d.label=a[2],d.ops.push(r);break}a[2]&&d.ops.pop(),d.trys.pop();continue}r=t.call(e,d)}catch(e){r=[6,e],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,c])}}},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.customizeOptionsButtons=t.customizeChatbotInit=t.customizeChatbot=t.customizeElement=t.setStyle=t.updateOptionsButtons=void 0,document.addEventListener("DOMContentLoaded",(function(){var e=document.createElement("head"),t=document.createElement("meta");t.setAttribute("charset","UTF-8"),e.appendChild(t);var n=document.createElement("meta");n.setAttribute("name","viewport"),n.setAttribute("content","width=device-width, initial-scale=1.0"),e.appendChild(n);var o=document.createElement("title");o.textContent="ShiBot Widget",e.appendChild(o);var a=document.createElement("link");a.setAttribute("rel","stylesheet"),a.setAttribute("href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0"),e.appendChild(a);var i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("href","./src/widget.css"),e.appendChild(i);var d=document.createElement("body"),r=document.createElement("button");r.classList.add("chatbot-toggler");var c=document.createElement("span");c.classList.add("material-symbols-outlined"),c.textContent="mode_comment";var l=document.createElement("span");l.classList.add("material-symbols-outlined"),l.textContent="close",r.appendChild(c),r.appendChild(l);var s=document.createElement("div");s.classList.add("chatbot");var u=document.createElement("header"),m=document.createElement("h2");m.textContent="Welcome!";var p=document.createElement("span");p.classList.add("close-btn","material-symbols-outlined"),p.textContent="close";var h=document.createElement("div");h.classList.add("logo"),h.innerHTML="To ShiBOT live chat with AI company.<br>We're always online and ready to chat!",u.appendChild(m),u.appendChild(p),u.appendChild(h);var v=document.createElement("ul");v.classList.add("chatbox"),v.id="chatbot-container";var b=document.createElement("li");b.classList.add("chat","incoming");var y=document.createElement("span");y.classList.add("material-symbols-outlined"),y.textContent="smart_toy";var g=document.createElement("p");g.textContent="Hi! How can I help you?",b.appendChild(y),b.appendChild(g);var f=document.createElement("div");f.classList.add("parent-container");var C=document.createElement("li");C.classList.add("chat","quick-reply");var E=document.createElement("button");E.classList.add("quick-reply-button"),E.textContent="Choose option";var L=document.createElement("button");L.classList.add("quick-reply-button"),L.textContent="–ó–∞–º–æ–≤–∏—Ç–∏";var k=document.createElement("button");k.classList.add("quick-reply-button"),k.textContent="–ó–∞–º–æ–≤–∏—Ç–∏",C.appendChild(E),C.appendChild(L),C.appendChild(k),f.appendChild(C);var x=document.createElement("div");x.classList.add("chat-input");var w=document.createElement("textarea");w.setAttribute("placeholder","–í–≤–µ–¥—ñ—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è..."),w.setAttribute("required","");var q=document.createElement("span");q.classList.add("material-symbols-outlined"),q.id="send-button",q.textContent="send";var B=document.createElement("span");B.classList.add("material-symbols-outlined"),B.id="mood-menu",B.textContent="mood";var S=document.createElement("span");S.classList.add("material-symbols-outlined"),S.id="drop-menu",S.textContent="more_vert",x.appendChild(w),x.appendChild(q),x.appendChild(B),x.appendChild(S);var T=document.createElement("div");T.classList.add("menu"),T.id="menu";var j=document.createElement("ul"),H=document.createElement("li");H.classList.add("menu-active"),H.id="report-issue";var A=document.createElement("span");A.classList.add("material-symbols-outlined"),A.textContent="flag",H.appendChild(document.createTextNode("Report an issue ")),H.appendChild(A),j.appendChild(H),T.appendChild(j);var O=document.createElement("div");O.classList.add("emoji-menu","menu"),O.id="emoji-menu";var _=document.createElement("div");_.classList.add("emoji-div");var R=document.createElement("ul");R.classList.add("emoji-list");var M=document.createElement("li");M.classList.add("menu-active"),M.setAttribute("data-emoji","üòÄ");var z=document.createElement("div");z.classList.add("emoji"),z.id="emoji",z.textContent="üòÄ",M.appendChild(z);var I=document.createElement("li");I.classList.add("menu-active"),I.setAttribute("data-emoji","üòé");var P=document.createElement("div");P.classList.add("emoji"),P.id="emoji",P.textContent="üòé",I.appendChild(P),R.appendChild(M),R.appendChild(I),_.appendChild(R),O.appendChild(_);var D=document.createElement("div");D.classList.add("emojis");var N=document.createElement("i");N.classList.add("fa-solid","fa-thumbs-down");var W=document.createElement("i");W.classList.add("fa-solid","fa-thumbs-up"),D.appendChild(N),D.appendChild(W),d.appendChild(r),d.appendChild(r),d.appendChild(s),s.appendChild(u),s.appendChild(v),v.appendChild(b),v.appendChild(f),v.appendChild(f),s.appendChild(x),s.appendChild(T),s.appendChild(O),s.appendChild(D),document.documentElement.appendChild(e),document.documentElement.appendChild(d)}));var r,c=d(n(911)),l=document.querySelector(".chat-input span"),s=document.querySelector(".chat-input textarea"),u=document.querySelector(".chatbox"),m=document.querySelector(".chatbot-toggler"),p=document.querySelector(".close-btn"),h=s.scrollHeight;s&&s.addEventListener("input",(function(){s.style.height="".concat(h,"px"),s.style.height="".concat(s.scrollHeight,"px")}));var v=function(e,t){var n=document.createElement("li");n.classList.add("chat",t);var o="outgoing"===t?"<p></p>":'<span class="material-symbols-outlined">smart_toy</span><p></p>';return n.innerHTML=o,n.querySelector("p").textContent=e,n};function b(){var e=document.getElementById("emoji-menu");"hidden"===e.style.visibility?e.style.visibility="visible":e.style.visibility="hidden"}document.getElementById("drop-menu").addEventListener("click",(function(){var e=document.getElementById("menu");"hidden"===e.style.visibility?e.style.visibility="visible":e.style.visibility="hidden"})),document.getElementById("mood-menu").addEventListener("click",b),document.querySelectorAll(".menu-active[data-emoji]").forEach((function(e){e.addEventListener("click",(function(){var t=e.getAttribute("data-emoji");t&&(s.value+=t,b())}))})),document.addEventListener("DOMContentLoaded",(function(){document.getElementById("report-issue").addEventListener("click",(function(){alert("Report an issue clicked")}))})),s&&s.addEventListener("keydown",(function(e){"Enter"===e.key&&!e.shiftKey&&window.innerWidth>800&&(e.preventDefault(),g())}));var y=!1;function g(){return a(this,void 0,void 0,(function(){var e,t,n,o,a,d,l;return i(this,(function(i){switch(i.label){case 0:r=s.value,s.value="",s.style.height="".concat(h,"px"),u.appendChild(v(r,"outgoing")),u.scrollTo(0,u.scrollHeight),e=v("Thinking...","incoming"),t=e.querySelector("p"),u.appendChild(e),u.scrollTo(0,u.scrollHeight),i.label=1;case 1:return i.trys.push([1,4,,5]),[4,(0,c.default)("/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:r})})];case 2:return[4,i.sent().json()];case 3:return n=i.sent(),t.textContent=n.response,o=v(n.response,"incoming"),u.replaceChild(o,e),u.scrollTo(0,u.scrollHeight),[3,5];case 4:return a=i.sent(),console.error("Error:",a),d=v("Error occurred. Please try again.","incoming"),u.replaceChild(d,e),u.scrollTo(0,u.scrollHeight),[3,5];case 5:return y||((l=document.createElement("div")).classList.add("rating-container"),u.appendChild(l),setTimeout((function(){var e=v("How would you rate this conversation? Choose emoji:","incoming");e.classList.add("rating-message");var t=document.createElement("div");t.classList.add("emoji-buttons"),["üòÉ","üòê","üòû"].forEach((function(e){var n=document.createElement("button");n.classList.add("emoji-button"),n.innerText=e,n.addEventListener("click",(function(){var t=v("–í–∏ –æ—Ü—ñ–Ω–∏–ª–∏ —Ä–æ–∑–º–æ–≤—É —è–∫: ".concat(e),"incoming");u.appendChild(t),u.scrollTo(0,u.scrollHeight)})),t.appendChild(n)})),e.appendChild(t),l.appendChild(e),u.scrollTo(0,u.scrollHeight),y=!0}),3e3)),[2]}}))}))}function f(e){var t=document.querySelector(".chat.quick-reply");e.text&&(t.innerHTML="",e.text.forEach((function(n,o){var a="quick-reply-button-".concat(o),i=document.createElement("button");i.className="quick-reply-button",i.textContent=n,i.id=a,t.appendChild(i),i.addEventListener("click",(function(){var t,n,i=null===(t=e.buttonMessages)||void 0===t?void 0:t[a],d=void 0!==i?i:"Button ".concat(o+1," clicked");(n=v(d,"incoming")).querySelector("p"),u.appendChild(n),u.scrollTo(0,u.scrollHeight)}))}))),e.quickReplyButtonBackground&&(t.style.background=e.quickReplyButtonBackground);for(var n=document.querySelectorAll(".quick-reply-button"),o=0;o<n.length-1;o++){var a=n[o];e.quickReplyButtonBackground&&(a.style.background=e.quickReplyButtonBackground),e.quickReplyButtonBorderBottom&&(a.style.borderBottom=e.quickReplyButtonBorderBottom)}var i=n[n.length-1];e.quickReplyButtonBackground&&(i.style.background=e.quickReplyButtonBackground),i.style.borderBottom="none"}function C(e,t){Object.assign(e.style,t)}function E(e,t){var n=document.querySelector(e);n&&C(n,t)}function L(e){var t,n,o,a;E(".chatbot",{background:e.chatbotBackground}),E(".chatbot-toggler",{background:e.chatbotTogglerBackground,right:null===(t=e.chatbotTogglerPosition)||void 0===t?void 0:t.right,bottom:null===(n=e.chatbotTogglerPosition)||void 0===n?void 0:n.bottom,height:null===(o=e.chatbotTogglerSize)||void 0===o?void 0:o.height,width:null===(a=e.chatbotTogglerSize)||void 0===a?void 0:a.width});var i=document.querySelector(".chatbot header h2");i&&e.headerMessage&&(i.innerHTML=e.headerMessage);var d=document.querySelector(".logo");d&&e.logoContent&&(d.innerHTML=e.logoContent)}function k(){var e=document.querySelector("script[data-custom-options]"),t=(null==e?void 0:e.getAttribute("data-custom-options"))||"{}",n=JSON.parse(t);L(o(o({},{}),n))}function x(){var e=document.querySelector("script[data-custom-options]"),t=(null==e?void 0:e.getAttribute("data-custom-options"))||"{}",n=JSON.parse(t);f(o(o({},{}),n))}l.addEventListener("click",g),m.addEventListener("click",(function(){return document.body.classList.toggle("show-chatbot")})),p.addEventListener("click",(function(){return document.body.classList.remove("show-chatbot")})),t.updateOptionsButtons=f,t.setStyle=C,t.customizeElement=E,t.customizeChatbot=L,t.customizeChatbotInit=k,t.customizeOptionsButtons=x,document.addEventListener("DOMContentLoaded",(function(){k(),x()}))},911:(e,t)=>{var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n)return n;throw new Error("unable to locate global object")}();e.exports=t=n.fetch,n.fetch&&(t.default=n.fetch.bind(n)),t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response}},t={};!function n(o){var a=t[o];if(void 0!==a)return a.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}(891)})();